---
title: "[HabitStack 개발 일지] 2025년 8월 8일 - 시간 제한 기능 구현 및 GitHub Pages 배포"
date: 2025-08-08
tags: [React, TypeScript, Vite, Bootstrap, HabitStack, 웹개발, 시간제한, 배포, GitHub Pages]
---

## HabitStack 프로젝트, 핵심 시간 제한 기능 구현 및 배포 완료! 🎉

오늘은 HabitStack 프로젝트에서 가장 중요한 기능 중 하나인 **특별 습관의 시간 제한 기능**을 구현하고, GitHub Pages로 배포까지 완료했습니다.

### ✅ 오늘의 주요 구현 내용

#### 1. **시간 제한 기능 핵심 구현**
- **문제 정의**: 특별 블록("하루 시작하기", "새로운 주 시작하기")이 언제든지 클릭 가능했던 문제
- **해결 방안**: 실제 시간 주기에 맞춰서만 완료할 수 있도록 제한
  - 📅 **"하루 시작하기"**: 한 번 클릭 시 → 자정(00:00) 이후에만 다시 클릭 가능
  - 🗓️ **"새로운 주 시작하기"**: 한 번 클릭 시 → 다음 주 월요일에만 다시 클릭 가능

#### 2. **데이터 구조 개선**
```typescript
// types.ts 수정
export interface Habit {
  id: number;
  name: string;
  isSpecial: boolean;
  lastCompletedAt?: string; // 마지막 완료 시간 추가
}
```

#### 3. **시간 검증 유틸리티 함수 구현**
새로운 파일 생성: `src/utils/timeUtils.ts`
- `canCompleteSpecialHabit()`: 특별 블록 클릭 가능 여부 검증
- `getNextAvailableTime()`: 다음 활성화 시간 계산 (UI 표시용)
- `isSameDay()`: 같은 날인지 확인
- `getNextMonday()`: 다음 월요일 계산

**핵심 로직:**
```typescript
// 매일 반복: 자정이 지나야 재활성화
if (repetitionType === 'daily') {
  return !isSameDay(now, lastCompleted);
}
// 매주 반복: 다음 월요일까지 대기
else if (repetitionType === 'weekly') {
  return getNextMonday(lastCompleted) <= now;
}
```

#### 4. **UI/UX 개선**
- **시각적 피드백**: 비활성화된 특별 블록을 회색으로 표시
- **상태 표시**: "🔒 대기중" 텍스트 추가
- **버튼 비활성화**: 완료하기 버튼도 함께 비활성화
- **CSS 스타일링**:
  ```css
  .habit-block.disabled-block {
    opacity: 0.5;
    filter: grayscale(0.8);
    cursor: not-allowed;
    pointer-events: none;
  }
  ```

#### 5. **완료 처리 로직 개선**
- **타임스탬프 기록**: 특별 블록 완료 시 `lastCompletedAt` 저장
- **이중 검증**: 클릭 시점과 버튼 활성화 상태 모두 검증
- **사용자 알림**: 제한 시간 정보를 포함한 알림 메시지

#### 6. **GitHub Pages 배포 완료**
- **gh-pages 패키지 설치**: `npm install --save-dev gh-pages`
- **Vite 설정 수정**: `base: '/HabitStack/'` 경로 설정
- **배포 스크립트 추가**:
  ```json
  "scripts": {
    "predeploy": "npm run build",
    "deploy": "gh-pages -d dist"
  }
  ```
- **원클릭 배포**: `npm run deploy`로 간편 배포 시스템 구축

### 💡 기술적 도전과 해결

#### **시간 계산의 복잡성**
- **도전**: JavaScript Date 객체를 사용한 정확한 시간 계산
- **해결**: 자정 계산, 다음 월요일 계산 등 정밀한 시간 로직 구현

#### **상태 동기화**
- **도전**: UI 상태와 데이터 상태의 일치성 보장
- **해결**: `useEffect`와 실시간 검증으로 상태 동기화

#### **사용자 경험**
- **도전**: 제한 기능이 사용자에게 불편함을 주지 않도록 설계
- **해결**: 명확한 시각적 피드백과 정보 제공으로 사용자 친화적 구현

### 🚀 배포된 기능들
현재 GitHub Pages에 배포된 HabitStack은 다음 기능들을 모두 포함합니다:

1. ✅ **무지개 나무 블록 테마** - 귀여운 시각적 디자인
2. ✅ **동적 색상 시스템** - HSL 기반 스펙트럼 분배
3. ✅ **물리학 기반 애니메이션** - 자연스러운 블록 움직임
4. ✅ **시간 제한 기능** - 실제 시간에 맞춘 습관 관리 ⭐ **NEW**
5. ✅ **반복 타입 선택** - 매일/매주 옵션
6. ✅ **데이터 영속성** - localStorage 자동 저장
7. ✅ **반응형 디자인** - 모바일 대응

### 📊 프로젝트 현황
- **배포 상태**: ✅ GitHub Pages 배포 완료
- **핵심 기능**: ✅ 모든 기능 구현 완료
- **사용자 테스트**: 🔄 진행 예정
- **추가 개선사항**: 📝 향후 계획 수립 중

### 🎓 오늘 배운 점

1. **시간 기반 비즈니스 로직**: JavaScript를 활용한 복잡한 시간 계산과 검증
2. **사용자 중심 설계**: 제한 기능을 사용자 친화적으로 구현하는 방법
3. **배포 자동화**: Vite + GitHub Pages의 효율적인 배포 파이프라인
4. **상태 관리**: 복잡한 UI 상태와 데이터 상태의 동기화 기법

### 🔮 다음 계획

1. **사용자 피드백 수집**: 실제 사용자들의 의견 수렴
2. **성능 최적화**: 번들 크기 최적화 및 로딩 속도 개선
3. **추가 기능 검토**: 
   - 습관 완료 통계 및 분석
   - 사용자 설정 커스터마이징
   - PWA(Progressive Web App) 전환

---

오늘은 특히 **실용적인 기능 구현**에 중점을 둔 날이었습니다. 단순한 앱에서 실제로 사용할 수 있는 의미 있는 도구로 발전시킬 수 있었고, 사용자가 진정한 습관 관리를 할 수 있는 기반을 마련했습니다.

HabitStack은 이제 "장난감 같은 귀여운 디자인"과 "실용적인 시간 관리 기능"을 모두 갖춘 완성도 높은 웹 애플리케이션이 되었습니다! 🌈✨
